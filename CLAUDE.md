# CLAUDE.md — Portfolio Website

This file provides Claude Code with context and guidelines for working on this project.

## Project Overview

Personal portfolio website for Zachary Zeller, Senior Data Analyst. Built with Next.js (App Router), TypeScript, and Tailwind CSS. Features include an NBA player comparison analysis, a Supabase-backed analytics system, and a daily AI-generated sports post cron job that posts to X (Twitter).

## Tech Stack

- **Framework**: Next.js 16 (App Router), React 19, TypeScript 5 (strict)
- **Styling**: Tailwind CSS 4, PostCSS, custom CSS variables
- **Data viz**: Recharts 3
- **Database**: Supabase (PostgreSQL)
- **AI**: Anthropic Claude SDK (web search + content generation)
- **Social**: Twitter API v2 (automated posting)
- **Deployment**: Vercel (with cron jobs)

## Project Structure

```
src/
├── app/                  # Next.js App Router pages and API routes
│   ├── api/
│   │   ├── analytics/track/   # Analytics tracking endpoint
│   │   └── cron/sports-fact/  # Daily AI sports post cron job
│   ├── projects/
│   │   └── brown-vs-tatum/    # NBA analysis case study
│   ├── about/, contact/, resume/
│   ├── layout.tsx, page.tsx, globals.css
│   ├── sitemap.ts, robots.ts
├── components/
│   ├── layout/           # Header, Footer
│   ├── analytics/        # PageViewTracker, ResumeTracker
│   ├── charts/           # Recharts-based visualization components
│   └── ui/               # Reusable UI (Button, etc.)
├── lib/
│   ├── supabase/         # client.ts, server.ts, analytics.ts
│   ├── utils.ts
│   └── constants.ts      # Site name, URL, links
├── hooks/                # useAnalytics
├── types/                # TypeScript types
└── data/
    └── brown-vs-tatum.json  # NBA stats (generated by Python script)

scripts/
├── fetch-nba-data.py     # Fetches NBA stats → src/data/brown-vs-tatum.json
└── requirements.txt

docs/plans/               # Implementation docs and design notes
```

## Common Commands

```bash
npm run dev       # Start dev server at localhost:3000
npm run build     # Production build
npm run start     # Serve production build
npm run lint      # Run ESLint
```

### NBA Data Pipeline (Python)

```bash
pip install -r scripts/requirements.txt
python3 scripts/fetch-nba-data.py
# Outputs to src/data/brown-vs-tatum.json
```

## Environment Variables

Required in `.env.local` for local development:

```
NEXT_PUBLIC_SITE_URL=
NEXT_PUBLIC_SUPABASE_URL=
NEXT_PUBLIC_SUPABASE_ANON_KEY=
ANTHROPIC_API_KEY=
X_API_KEY=
X_API_SECRET=
X_ACCESS_TOKEN=
X_ACCESS_TOKEN_SECRET=
CRON_SECRET=
```

## Key Conventions

- **Path alias**: `@/*` resolves to `./src/*`
- **TypeScript**: Strict mode — no `any`, no implicit returns
- **Styling**: Use Tailwind utility classes; custom CSS vars defined in `globals.css`
- **Fonts**: Playfair Display (headings), DM Sans (body), DM Mono (data/code)
- **Color tokens** (CSS vars): `--color-accent` (navy `#1e3a5f`), `--color-highlight` (`#5b8ba0`), `--color-bg` (`#f4f5f7`)
- **Animations**: Use existing `animate-reveal` / `animate-reveal-delay-*` classes for page load effects
- **Supabase**: Use `src/lib/supabase/server.ts` for server components/routes, `client.ts` for client components

## Architecture Notes

- All pages are React Server Components by default; add `"use client"` only when needed (interactivity, hooks, browser APIs)
- API routes live under `src/app/api/` and follow Next.js route handler conventions
- Analytics tracking is passive — `PageViewTracker` and `ResumeTracker` are client components inserted into layouts
- The cron job (`/api/cron/sports-fact`) is secured with `CRON_SECRET` and scheduled via `vercel.json`
- Security headers (HSTS, X-Frame-Options, nosniff, referrer policy) are set in `next.config.ts`

## Testing & Linting

There is no automated test suite currently. Run `npm run lint` before committing to catch TypeScript and ESLint issues. The build (`npm run build`) also performs type checking.
